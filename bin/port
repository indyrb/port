#!/usr/bin/env ruby

APP_ROOT = File.join(File.dirname(__FILE__), "..")

$: << File.join(APP_ROOT, "lib")
require "port"

unless ARGV[0] == "console"
  Application.new.run
else
  require 'irb'

  @app = Application.new
  @window = @app.window
  @game = @window.game
  Thread.new do
    puts "Instantiated variables: "
    puts "  @port = Application"
    puts "  @window = Window"
    puts "  @game = Game"
    ARGV.shift; IRB.start
  end

  @app.run
end
